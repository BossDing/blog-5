<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>个人中心-文章管理</title>
    <div th:replace="~{fragment/common :: common}"></div>
</head>
<body>
<div th:replace="~{fragment/header :: header}"></div>
<div class="body-container container" style="margin-top: 20px">
    <div class="col-sm-2 my-nav">
        <ul th:replace="~{fragment/my-nav :: my-nav(activeUrl='my-articles')}"></ul>
    </div>
    <div class="col-sm-10 my-content">
        <div class="panel panel-default">
            <!-- Default panel contents -->
            <div class="panel-heading">
                <h4>文章管理<span style="font-size: 14px" data-th-text="| （共${records.totalElements}篇）|"/>
                    <a data-th-href="@{/my/article}" class="btn btn-sm btn-success" >新建文章
                    </a>
                    <span style="font-size: 14px;color:red" data-th-text="${errorMsg}"/>
                    <span style="font-size: 14px;color:green" data-th-text="${successMsg}"/>
                </h4>
            </div>
            <div class="panel-body">
                <div style="min-height: 410px">
                    <table class="table table-bordered table-responsive" style="text-align: center;margin-bottom: 0">
                        <tr>
                            <td>标题</td>
                            <td>类别</td>
                            <td>标签</td>
                            <td>状态</td>
                            <td><span class="glyphicon glyphicon-eye-open" aria-hidden="true"></span></td>
                            <td><span class="glyphicon glyphicon-thumbs-up" aria-hidden="true"></span></td>
                            <td><span class="glyphicon glyphicon-comment" aria-hidden="true"></span></td>
                            <!--<td>创建于</td>
                            <td>更新于</td>-->
                            <td>操作</td>
                        </tr>
                        <tr th:each="article : ${records}">
                            <td style="text-align: left;width: 250px;white-space:nowrap; overflow:hidden; text-overflow:ellipsis;" data-th-text="${article.title}"></td>
                            <td data-th-text="${article.categoryName}"></td>
                            <td>
                               <span data-th-each="tag: ${article.tags}" data-th-text="|${tag.name};|"></span>
                            </td>
                            <td ><span style="color:#F0AD4E;" data-th-if="${article.status}==0">草稿</span></td>
                            <td data-th-text="${article.readCount}"></td>
                            <td data-th-text="${article.voteCount}"></td>
                            <td data-th-text="${article.commentCount}"></td>
                            <!--<td data-th-text="${#dates.format(article.createTime,'yyyy/MM/dd HH:mm')}"></td>
                            <td data-th-text="${#dates.format(article.updateTime,'yyyy/MM/dd HH:mm')}"></td>-->
                            <td>
                                <a data-th-href="@{'/my/article/update/'+${article.id}}" class="btn btn-xs btn-primary">编辑</a>&nbsp;
                                <a data-th-href="@{'/my/article/delete/'+${article.id}}" class="btn btn-xs btn-danger">删除</a></td>
                        </tr>
                    </table>
                </div>
                <!-- Pagination -->
                <div th:replace="~{fragment/page :: page(url='/my/articles',hide='1')}">...</div>
            </div>
        </div>
    </div>
</div>
<div th:replace="~{fragment/footer :: footer}">...</div>
</body>
</html>